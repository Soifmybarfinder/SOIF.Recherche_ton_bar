<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOIF MyBarFinder - MVP</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', system-ui, sans-serif;
            background: #1a0f24;
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: linear-gradient(135deg, #4a0e4e 0%, #81236e 40%, #ab2567 70%, #ff006e 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 1;
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .splash-screen.hidden {
            opacity: 0;
            transform: scale(1.05);
            pointer-events: none;
        }

        .splash-logo {
            width: 140px;
            height: 140px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 35px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 40px;
            backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 30px 80px rgba(255, 0, 110, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: splashFloat 3s ease-in-out infinite;
        }

        .wine-glass {
            position: relative;
            width: 50px;
            height: 70px;
            filter: drop-shadow(0 10px 30px rgba(255, 255, 255, 0.3));
        }

        .wine-glass::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid rgba(255, 255, 255, 0.95);
            border-radius: 5px;
            border-width: 18px 18px 28px 18px;
        }

        .wine-glass::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 1.5px;
            height: 25px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1px;
        }

        .wine-glass .base {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 2px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1px;
        }

        .wine-liquid {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 14px solid transparent;
            border-right: 14px solid transparent;
            border-top: 18px solid #ff006e;
            border-radius: 3px;
            animation: liquidWave 2.5s ease-in-out infinite;
        }

        .splash-title {
            font-size: 72px;
            font-weight: 200;
            background: linear-gradient(135deg, #fff, #ffd6e8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            letter-spacing: 16px;
            text-shadow: 0 0 80px rgba(255, 255, 255, 0.3);
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            text-transform: uppercase;
        }

        .splash-subtitle {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 400;
            text-align: center;
            max-width: 320px;
            line-height: 1.6;
            letter-spacing: 0.5px;
        }

        .loading-dots {
            display: flex;
            gap: 12px;
            margin-top: 50px;
        }

        .dot {
            width: 10px;
            height: 10px;
            background: linear-gradient(135deg, #fff, #ffd6e8);
            border-radius: 50%;
            animation: dotPulse 1.4s ease-in-out infinite both;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        }

        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }
        .dot:nth-child(3) { animation-delay: 0s; }

        @keyframes splashFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        @keyframes liquidWave {
            0%, 100% { transform: translateX(-50%) scale(1); }
            50% { transform: translateX(-50%) scale(1.08, 0.92); }
        }

        @keyframes dotPulse {
            0%, 80%, 100% { transform: scale(0.4); opacity: 0.3; }
            40% { transform: scale(1); opacity: 1; }
        }

        .app-container {
            max-width: 414px;
            margin: 0 auto;
            background: #1a0f24;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05);
            opacity: 0;
            transition: opacity 0.8s ease 0.5s;
        }

        .app-container.visible {
            opacity: 1;
        }

        .header {
            background: linear-gradient(135deg, #4a0e4e 0%, #81236e 40%, #ab2567 70%, #ff006e 100%);
            padding: 50px 24px 35px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.1), transparent 70%);
            pointer-events: none;
        }

        .header-logo {
            width: 90px;
            height: 90px;
            margin: 0 auto 20px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            position: relative;
            box-shadow: 0 20px 50px rgba(255, 0, 110, 0.3);
        }

        .wine-glass-small {
            position: relative;
            width: 40px;
            height: 55px;
            filter: drop-shadow(0 5px 15px rgba(255, 255, 255, 0.3));
        }

        .wine-glass-small::before {
            content: '';
            position: absolute;
            top: 4px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 16px solid transparent;
            border-right: 16px solid transparent;
            border-top: 24px solid rgba(255, 255, 255, 0.95);
            border-radius: 4px;
            border-width: 14px 14px 22px 14px;
        }

        .wine-glass-small::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 1.5px;
            height: 20px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1px;
        }

        .wine-glass-small .base-small {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 2px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 1px;
        }

        .wine-liquid-small {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 11px solid transparent;
            border-right: 11px solid transparent;
            border-top: 14px solid #ff006e;
            border-radius: 2px;
        }

        .header h1 {
            font-size: 42px;
            font-weight: 200;
            margin-bottom: 8px;
            letter-spacing: 14px;
            text-shadow: 0 2px 20px rgba(255, 255, 255, 0.3);
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
            text-transform: uppercase;
        }

        .header .tagline {
            font-size: 15px;
            opacity: 0.8;
            font-weight: 400;
            letter-spacing: 0.5px;
        }

        .nav-tabs {
            display: flex;
            background: #21152f;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
            overflow-x: auto;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
        }

        .nav-tab {
            flex: 1;
            min-width: 65px;
            padding: 18px 8px;
            text-align: center;
            background: transparent;
            border: none;
            color: rgba(255, 255, 255, 0.5);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 11px;
            white-space: nowrap;
            position: relative;
            letter-spacing: 0.3px;
        }

        .nav-tab::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            transform: scaleX(0);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-tab.active {
            color: #fff;
        }

        .nav-tab.active::after {
            transform: scaleX(1);
        }

        .content {
            padding: 24px;
            min-height: 500px;
            background: #1a0f24;
        }

        .hidden {
            display: none;
        }

        .search-box {
            position: relative;
            margin-bottom: 24px;
        }

        .search-input {
            width: 100%;
            padding: 16px 20px 16px 52px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            font-size: 15px;
            background: rgba(255, 255, 255, 0.03);
            color: #fff;
            transition: all 0.3s ease;
        }

        .search-input::placeholder {
            color: rgba(255, 255, 255, 0.4);
        }

        .search-input:focus {
            outline: none;
            border-color: rgba(255, 107, 107, 0.4);
            background: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 0 4px rgba(255, 107, 107, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            opacity: 0.5;
        }

        .filters {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 28px;
        }

        .filter-btn {
            padding: 14px 16px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.03);
            color: rgba(255, 255, 255, 0.7);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            text-align: center;
            letter-spacing: 0.2px;
        }

        .filter-btn:hover {
            border-color: rgba(255, 107, 107, 0.3);
            background: rgba(255, 107, 107, 0.05);
            transform: translateY(-2px);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: #fff;
            border-color: transparent;
            box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);
        }

        .bars-grid {
            display: grid;
            gap: 16px;
        }

        .bar-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 20px;
            padding: 22px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            backdrop-filter: blur(20px);
        }

        .bar-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(255, 107, 107, 0.15);
            border-color: rgba(255, 107, 107, 0.3);
        }

        .bar-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .bar-name {
            font-size: 19px;
            font-weight: 700;
            color: #fff;
            letter-spacing: -0.3px;
        }

        .bar-type {
            font-size: 13px;
            color: #ff8e8e;
            font-weight: 600;
            margin-top: 4px;
        }

        .heart-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .heart-btn.liked {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border-color: transparent;
            animation: heartBeat 0.5s ease;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .bar-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 14px 0;
        }

        .feature-tag {
            background: rgba(255, 107, 107, 0.12);
            color: #ff8e8e;
            padding: 6px 12px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 600;
            border: 1px solid rgba(255, 107, 107, 0.2);
            letter-spacing: 0.3px;
        }

        .bar-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
        }

        .rating {
            color: #ffc107;
            font-weight: 700;
            font-size: 14px;
        }

        .distance {
            color: rgba(255, 255, 255, 0.5);
            font-size: 13px;
            font-weight: 500;
        }

        .visitors {
            font-size: 12px;
            color: #4ecca3;
            background: rgba(78, 204, 163, 0.12);
            padding: 6px 10px;
            border-radius: 8px;
            font-weight: 600;
            border: 1px solid rgba(78, 204, 163, 0.2);
        }

        .events-header {
            margin-bottom: 28px;
        }

        .events-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .events-title h2 {
            font-size: 28px;
            font-weight: 800;
            color: #fff;
            margin: 0;
            letter-spacing: -0.5px;
        }

        .create-event-btn {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);
            font-size: 14px;
            letter-spacing: 0.3px;
        }

        .create-event-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(255, 107, 107, 0.4);
        }

        .events-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 24px;
            overflow-x: auto;
            padding-bottom: 4px;
        }

        .event-filter-btn {
            padding: 10px 18px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.03);
            color: rgba(255, 255, 255, 0.6);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            letter-spacing: 0.2px;
        }

        .event-filter-btn.active {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 16px rgba(255, 107, 107, 0.3);
        }

        .events-list {
            display: grid;
            gap: 16px;
        }

        .event-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 20px;
            padding: 24px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s ease;
            position: relative;
            backdrop-filter: blur(20px);
        }

        .event-card.popular {
            border: 1px solid rgba(255, 107, 107, 0.3);
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.15);
        }

        .event-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #4ecca3, #3eb489);
            color: white;
            padding: 6px 14px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 12px rgba(78, 204, 163, 0.3);
        }

        .event-title {
            font-size: 19px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 8px;
            letter-spacing: -0.3px;
        }

        .event-bar {
            color: #ff8e8e;
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 12px;
        }

        .event-datetime {
            display: flex;
            gap: 16px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 13px;
            margin-bottom: 14px;
            font-weight: 500;
        }

        .event-description {
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            margin-bottom: 18px;
            line-height: 1.6;
        }

        .event-actions {
            display: flex;
            gap: 10px;
        }

        .join-btn {
            flex: 1;
            padding: 12px;
            border: 1px solid rgba(78, 204, 163, 0.4);
            border-radius: 12px;
            background: rgba(78, 204, 163, 0.08);
            color: #4ecca3;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            letter-spacing: 0.3px;
        }

        .join-btn.joined {
            background: linear-gradient(135deg, #4ecca3, #3eb489);
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 16px rgba(78, 204, 163, 0.3);
        }

        .share-btn {
            padding: 12px 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s ease;
        }

        .share-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .friends-section {
            margin-bottom: 32px;
        }

        .section-title {
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 18px;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
            letter-spacing: -0.3px;
        }

        .friends-list {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            padding-bottom: 12px;
        }

        .friend-item {
            flex-shrink: 0;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .friend-item:hover {
            transform: translateY(-4px);
        }

        .friend-avatar {
            width: 68px;
            height: 68px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            position: relative;
            color: white;
            font-size: 26px;
            box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .online-dot {
            position: absolute;
            bottom: 3px;
            right: 3px;
            width: 18px;
            height: 18px;
            background: #4ecca3;
            border-radius: 50%;
            border: 3px solid #1a0f24;
            box-shadow: 0 0 10px rgba(78, 204, 163, 0.5);
        }

        .friend-name {
            font-size: 13px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 2px;
        }

        .friend-location {
            font-size: 11px;
            color: rgba(255, 255, 255, 0.5);
            font-weight: 500;
        }

        .profile-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            color: white;
            padding: 40px 24px;
            text-align: center;
            position: relative;
            margin: -24px -24px 32px -24px;
            overflow: hidden;
        }

        .profile-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 50% 0%, rgba(255, 107, 107, 0.15), transparent 70%);
            pointer-events: none;
        }

        .profile-avatar {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(255, 142, 142, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            position: relative;
            border: 3px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 50px rgba(255, 107, 107, 0.25);
        }

        .avatar-text {
            font-size: 40px;
            font-weight: 900;
            color: white;
            letter-spacing: -1px;
        }

        .edit-avatar-btn {
            position: absolute;
            bottom: 5px;
            right: 5px;
            width: 34px;
            height: 34px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border: 2px solid #1a0f24;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 15px;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
            transition: transform 0.3s ease;
        }

        .edit-avatar-btn:hover {
            transform: scale(1.1);
        }

        .profile-name {
            font-size: 26px;
            font-weight: 800;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .profile-email {
            font-size: 15px;
            opacity: 0.7;
            margin-bottom: 28px;
            font-weight: 400;
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            background: rgba(255, 255, 255, 0.06);
            border-radius: 18px;
            padding: 24px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .stat {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 6px;
            letter-spacing: -1px;
        }

        .stat-label {
            font-size: 12px;
            opacity: 0.7;
            font-weight: 500;
        }

        .profile-menu {
            padding: 0;
        }

        .menu-section {
            margin-bottom: 32px;
        }

        .menu-section-title {
            font-size: 18px;
            font-weight: 800;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 16px;
            padding: 0 6px;
            letter-spacing: -0.3px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            padding: 18px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05), rgba(255, 255, 255, 0.02));
            border-radius: 16px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.06);
            backdrop-filter: blur(20px);
        }

        .menu-item:hover {
            transform: translateY(-3px);
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.04));
            border-color: rgba(255, 107, 107, 0.3);
            box-shadow: 0 12px 28px rgba(255, 107, 107, 0.12);
        }

        .menu-item-icon {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: rgba(255, 107, 107, 0.12);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-right: 16px;
            border: 1px solid rgba(255, 107, 107, 0.2);
        }

        .menu-item-content {
            flex: 1;
        }

        .menu-item-title {
            font-size: 16px;
            font-weight: 700;
            color: #fff;
            margin-bottom: 4px;
            letter-spacing: -0.2px;
        }

        .menu-item-subtitle {
            font-size: 13px;
            color: rgba(255, 255, 255, 0.5);
            font-weight: 500;
        }

        .menu-item-arrow {
            font-size: 18px;
            color: rgba(255, 255, 255, 0.3);
        }

        .logout-section {
            margin-top: 48px;
            padding-top: 24px;
            border-top: 1px solid rgba(255, 255, 255, 0.06);
        }

        .logout-btn {
            width: 100%;
            padding: 16px;
            background: rgba(231, 76, 60, 0.08);
            border: 1px solid rgba(231, 76, 60, 0.3);
            border-radius: 16px;
            color: #ff6b6b;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 0.2px;
        }

        .logout-btn:hover {
            background: linear-gradient(135deg, #e74c3c, #ff6b6b);
            color: #fff;
            border-color: transparent;
            box-shadow: 0 8px 24px rgba(231, 76, 60, 0.3);
        }

        .location-btn {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 22px;
            cursor: pointer;
            box-shadow: 0 12px 32px rgba(255, 107, 107, 0.4);
            z-index: 100;
            transition: all 0.3s ease;
        }

        .location-btn:hover {
            transform: translateX(-50%) translateY(-4px);
            box-shadow: 0 16px 40px rgba(255, 107, 107, 0.5);
        }

        .notification {
            position: fixed;
            top: 24px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(78, 204, 163, 0.95), rgba(62, 180, 137, 0.95));
            color: white;
            padding: 14px 24px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 600;
            z-index: 1000;
            animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 12px 32px rgba(78, 204, 163, 0.4);
            letter-spacing: 0.2px;
        }

        @keyframes slideDown {
            from { 
                transform: translateX(-50%) translateY(-100%); 
                opacity: 0; 
            }
            to { 
                transform: translateX(-50%) translateY(0); 
                opacity: 1; 
            }
        }

        .empty-state {
            text-align: center;
            padding: 60px 24px;
            color: rgba(255, 255, 255, 0.4);
        }

        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 24px;
            opacity: 0.2;
        }

        .empty-state p {
            font-size: 16px;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.5);
        }

        .feedback-btn {
            background: linear-gradient(135deg, #4ecca3, #3eb489);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 16px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 8px 24px rgba(78, 204, 163, 0.3);
            transition: all 0.3s ease;
            margin-bottom: 24px;
            font-size: 15px;
            letter-spacing: 0.3px;
        }

        .feedback-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 32px rgba(78, 204, 163, 0.4);
        }

        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.02);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.15);
        }
    </style>
</head>
<body>
    <div class="splash-screen" id="splashScreen">
        <div class="splash-logo">
            <div class="wine-glass">
                <div class="wine-liquid"></div>
                <div class="base"></div>
            </div>
        </div>
        <h1 class="splash-title">SOIF</h1>
        <p class="splash-subtitle">Trouve ton bar idéal ici ou ailleurs!</p>
        <div class="loading-dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <div class="app-container" id="appContainer">
        <div class="header">
            <div class="header-logo">
                <div class="wine-glass-small">
                    <div class="wine-liquid-small"></div>
                    <div class="base-small"></div>
                </div>
            </div>
            <h1>SOIF</h1>
            <div class="tagline">Trouve ton bar idéal !</div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" data-tab="search">🔍 Rechercher</button>
            <button class="nav-tab" data-tab="events">🎉 Événements</button>
            <button class="nav-tab" data-tab="social">👥 Social</button>
            <button class="nav-tab" data-tab="favorites">❤️ Favoris</button>
            <button class="nav-tab" data-tab="profile">👤 Profil</button>
        </div>

        <div id="search-content" class="content">
            <div style="text-align: center;">
                <button class="feedback-btn" onclick="openFeedbackForm()">
                    💬 Teste et donne ton AVIS !
                </button>
            </div>

            <div class="search-box">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-input" placeholder="Rechercher un bar à Montpellier..." id="searchInput">
            </div>

            <div class="filters" id="filtersContainer"></div>
            <div class="bars-grid" id="barsContainer"></div>
        </div>

        <div id="events-content" class="content hidden">
            <div class="events-header">
                <div class="events-title">
                    <h2>🎉 Événements</h2>
                    <button class="create-event-btn" onclick="showCreateEvent()">+ Créer</button>
                </div>
                <div class="events-filters">
                    <button class="event-filter-btn active" data-filter="all">Tous</button>
                    <button class="event-filter-btn" data-filter="today">Aujourd'hui</button>
                    <button class="event-filter-btn" data-filter="week">Cette semaine</button>
                    <button class="event-filter-btn" data-filter="friends">Mes amis</button>
                </div>
            </div>
            <div class="events-list" id="eventsList"></div>
        </div>

        <div id="social-content" class="content hidden">
            <div class="friends-section">
                <div class="section-title">📍 Amis dans les parages</div>
                <div class="friends-list" id="friendsList"></div>
            </div>
            <div class="section-title">🔥 Bars populaires maintenant</div>
            <div class="bars-grid" id="popularBars"></div>
        </div>

        <div id="favorites-content" class="content hidden">
            <div class="section-title">❤️ Mes bars favoris</div>
            <div class="bars-grid" id="favoriteBars"></div>
        </div>

        <div id="profile-content" class="content hidden">
            <div class="profile-header">
                <div class="profile-avatar">
                    <span class="avatar-text">SL</span>
                    <button class="edit-avatar-btn">✏️</button>
                </div>
                <h2 class="profile-name">Mon profil</h2>
                <p class="profile-email">soif.mybarfinder@gmail.com</p>
                <div class="profile-stats">
                    <div class="stat">
                        <span class="stat-number">18</span>
                        <span class="stat-label">Bars visités</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">12</span>
                        <span class="stat-label">Favoris</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">36</span>
                        <span class="stat-label">Avis donnés</span>
                    </div>
                </div>
            </div>

            <div class="profile-menu">
                <div class="menu-section">
                    <h3 class="menu-section-title">Mes goûts</h3>
                    <div class="menu-item" onclick="showProfileSection('tastes')">
                        <div class="menu-item-icon">🎤</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Karaoké</div>
                            <div class="menu-item-subtitle">J'adore chanter entre amis</div>
                        </div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('tastes')">
                        <div class="menu-item-icon">🍺</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Bière</div>
                            <div class="menu-item-subtitle">Amateur de bières artisanales</div>
                        </div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('tastes')">
                        <div class="menu-item-icon">🏉</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Rugby</div>
                            <div class="menu-item-subtitle">Fan de l'ovalie</div>
                        </div>
                    </div>
                </div>

                <div class="menu-section">
                    <h3 class="menu-section-title">Mon compte</h3>
                    <div class="menu-item" onclick="showProfileSection('personal')">
                        <div class="menu-item-icon">👤</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Informations personnelles</div>
                            <div class="menu-item-subtitle">Nom, email, téléphone</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('preferences')">
                        <div class="menu-item-icon">⚙️</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Préférences</div>
                            <div class="menu-item-subtitle">Types de bars préférés</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('privacy')">
                        <div class="menu-item-icon">🔒</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Confidentialité</div>
                            <div class="menu-item-subtitle">Géolocalisation, visibilité</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                </div>

                <div class="menu-section">
                    <h3 class="menu-section-title">Activité</h3>
                    <div class="menu-item" onclick="showProfileSection('history')">
                        <div class="menu-item-icon">📍</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Historique des visites</div>
                            <div class="menu-item-subtitle">Bars récemment visités</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('reviews')">
                        <div class="menu-item-icon">⭐</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Mes avis</div>
                            <div class="menu-item-subtitle">Avis et notes donnés</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('friends')">
                        <div class="menu-item-icon">👥</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Mes amis</div>
                            <div class="menu-item-subtitle">Gérer mon réseau</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                </div>

                <div class="menu-section">
                    <h3 class="menu-section-title">Application</h3>
                    <div class="menu-item" onclick="showProfileSection('notifications')">
                        <div class="menu-item-icon">🔔</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">Notifications</div>
                            <div class="menu-item-subtitle">Alertes et rappels</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                    <div class="menu-item" onclick="showProfileSection('about')">
                        <div class="menu-item-icon">ℹ️</div>
                        <div class="menu-item-content">
                            <div class="menu-item-title">À propos</div>
                            <div class="menu-item-subtitle">Version 1.0.0</div>
                        </div>
                        <div class="menu-item-arrow">→</div>
                    </div>
                </div>

                <div class="logout-section">
                    <button class="logout-btn" onclick="logout()">🚪 Se déconnecter</button>
                </div>
            </div>
        </div>

        <button class="location-btn" id="locationBtn">🎯</button>
    </div>

    <script>
        const appData = {
            filters: {
  "quartiers": [
    {"id":"ecusson","label":"🛡️ Écusson"},
    {"id":"antigone","label":"🏛️ Antigone"},
    {"id":"comedie","label":"🎭 Comédie"},
    {"id":"gare","label":"🚂 Gare"},
    {"id":"beaux_arts","label":"🎨 Beaux-Arts"},
    {"id":"port_marianne","label":"⚓ Port Marianne"},
    {"id":"rives_lez","label":"🏞️ Rives du Lez"},
    {"id":"hopitaux_fac","label":"🏫 Hôpitaux-Facultés"},
    {"id":"peyrou","label":"🏰 Peyrou"},
    {"id":"plage","label":"🏖️ Plage"},
    {"id":"figuerolles","label":"🏘️ Figuerolles"},
    {"id":"boutonnet","label":"🌳 Boutonnet"},
    {"id":"lattes","label":"🏖️ Lattes"}
  ],
  "types": [
    {"id":"bar_bieres","label":"🍺 Bar à bières"},
    {"id":"bar_vins","label":"🍷 Bar à vins"},
    {"id":"bar_cocktails","label":"🍸 Bar à cocktails"},
    {"id":"pub","label":"🍻 Pub"},
    {"id":"brasserie","label":"🍭 Brasserie"},
    {"id":"cave_vin","label":"🍇 Cave à vin"},
    {"id":"guinguette","label":"🪕 Guinguette"},
    {"id":"speakeasy","label":"🤫 Speakeasy"},
    {"id":"sport_tv","label":"⚽ Sports bar"},
    {"id":"rooftop","label":"🏙️ Rooftop"},
    {"id":"lounge","label":"🛋️ Lounge"},
    {"id":"boite_club","label":"💃 Boîte/Club"},
    {"id":"cafe","label":"☕ Café"}
  ],
  "ambiances": [
    {"id":"cosy","label":"🛋️ Cosy"},
    {"id":"tendance","label":"✨ Tendance"},
    {"id":"romantique","label":"❤️ Romantique"},
    {"id":"festif","label":"🎉 Festif"},
    {"id":"calme","label":"🧘 Calme"},
    {"id":"anime","label":"💃 Animé"},
    {"id":"convivial","label":"🤗 Convivial"},
    {"id":"branche","label":"😎 Branché"},
    {"id":"alternatif","label":"🎸 Alternatif"},
    {"id":"chic","label":"🎩 Chic"},
    {"id":"decontracte","label":"👕 Décontracté"},
    {"id":"underground","label":"🌑 Underground"},
    {"id":"intime","label":"🤫 Intime"}
  ],
  "caracteristiques_rapides": [
    {"id":"terrasse","label":"☀️ Terrasse"},
    {"id":"terrasse_ensoleillee","label":"☀️ Terrasse ensoleillée"},
    {"id":"terrasse_ombragee","label":"🌳 Terrasse ombragée"},
    {"id":"wifi","label":"📶 WiFi"},
    {"id":"parking","label":"🅿️ Parking"},
    {"id":"afterwork","label":"💼 Afterwork"},
    {"id":"tv","label":"📺 Écrans TV"},
    {"id":"happy_hour","label":"🥂 Happy Hour"},
    {"id":"vue_ville","label":"🏙️ Vue ville"},
    {"id":"vue_mer","label":"🌊 Vue mer"},
    {"id":"jardin","label":"🌿 Jardin"}
  ],
  "niveau_sonore": [
    {"id":"silencieux","label":"🔇 Silencieux"},
    {"id":"calme_sonore","label":"🔉 Calme"},
    {"id":"modere","label":"🔊 Modéré"},
    {"id":"anime_sonore","label":"🔊 Animé"},
    {"id":"tres_bruyant","label":"🔊🔊 Très bruyant"}
  ],
  "parfait_pour": [
    {"id":"couples","label":"❤️ Couples"},
    {"id":"famille_enfants","label":"👨‍👩‍👧 Famille avec enfants"},
    {"id":"groupe_petit","label":"👤 Groupe < 5"},
    {"id":"groupe_moyen","label":"👥 Groupe 5-10"},
    {"id":"groupe_grand","label":"👨‍👩‍👧‍👦 Groupe > 10"},
    {"id":"evenements_prives","label":"🎊 Événements privés"},
    {"id":"afterwork_parfait","label":"💼 Afterwork"},
    {"id":"anniversaire","label":"🎂 Anniversaire"},
    {"id":"solo","label":"🧑 Solo"},
    {"id":"rendez_vous","label":"💑 Rendez-vous"}
  ],
  "boissons": [
    {"id":"cocktails_signature","label":"🍸 Cocktails signature"},
    {"id":"vins_naturels","label":"🍷 Vins naturels"},
    {"id":"bieres_artisanales","label":"🍺 Bières artisanales"},
    {"id":"bieres_locales","label":"🍺 Bières locales"},
    {"id":"craft","label":"🍻 Craft"},
    {"id":"whiskies","label":"🥃 Whiskies"},
    {"id":"rhum","label":"🏝️ Rhums"},
    {"id":"gins","label":"🌿 Gins"},
    {"id":"gin","label":"🌿 Gin"},
    {"id":"prosecco","label":"🥂 Prosecco"},
    {"id":"sans_alcool","label":"🧃 Sans alcool"},
    {"id":"mocktails","label":"🥤 Mocktails"},
    {"id":"spiritueux","label":"🥃 Spiritueux"},
    {"id":"shots","label":"🥃 Shots"},
    {"id":"cafe","label":"☕ Café"},
    {"id":"the","label":"🍵 Thé"},
    {"id":"tropical","label":"🥥 Tropical"}
  ],
  "nourriture": [
    {"id":"planches","label":"🧀 Planches"},
    {"id":"tapas","label":"🥘 Tapas"},
    {"id":"vegan","label":"🌱 Végan"},
    {"id":"vegetarien","label":"🥦 Végétarien"},
    {"id":"gluten_free","label":"🌾 Sans gluten"},
    {"id":"burgers","label":"🍔 Burgers"},
    {"id":"carte_complete","label":"📋 Carte complète"},
    {"id":"menus","label":"📜 Menus"},
    {"id":"brunch","label":"🥐 Brunch"},
    {"id":"pizzas","label":"🍕 Pizzas"},
    {"id":"snacking","label":"🥪 Snacking"}
  ],
  "ensoleillement": [
    {"id":"jamais","label":"🌑 Jamais"},
    {"id":"matin","label":"🌅 Matin"},
    {"id":"midi","label":"🌞 Midi"},
    {"id":"apres_midi","label":"🌇 Après-midi"},
    {"id":"soir","label":"🌆 Soir"}
  ],
  "clientele": [
    {"id":"18_25","label":"🧑 18-25 ans"},
    {"id":"25_35","label":"👨 25-35 ans"},
    {"id":"35_50","label":"👩 35-50 ans"},
    {"id":"50_plus","label":"🧔 50+ ans"},
    {"id":"tous_ages","label":"👪 Tous âges"},
    {"id":"etudiants","label":"🎓 Étudiants"},
    {"id":"business","label":"💼 Business"}
  ],
  "musiques": [
    {"id":"rock","label":"🎸 Rock"},
    {"id":"pop","label":"🎤 Pop"},
    {"id":"jazz","label":"🎷 Jazz"},
    {"id":"lounge_music","label":"🎹 Lounge"},
    {"id":"electro","label":"🎧 Électro"},
    {"id":"techno","label":"💿 Techno"},
    {"id":"hip_hop","label":"🎙️ Hip-Hop"},
    {"id":"indie","label":"🎵 Indie"},
    {"id":"classique","label":"🎻 Classique"},
    {"id":"variete","label":"📻 Variété"},
    {"id":"chanson_francaise","label":"🇫🇷 Chanson française"},
    {"id":"latino","label":"🕺 Latino"},
    {"id":"metal","label":"🤘 Metal"},
    {"id":"disco","label":"🪩 Disco"}
  ],
  "evenements": [
    {"id":"karaoke","label":"🎤 Karaoké"},
    {"id":"open_mic","label":"🎭 Scène ouverte"},
    {"id":"stand_up","label":"🎪 Stand-up"},
    {"id":"dj_set","label":"🎧 DJ Set"},
    {"id":"concerts","label":"🎵 Concerts"},
    {"id":"quiz","label":"❓ Quiz"},
    {"id":"retransmissions","label":"📺 Retransmissions sport"},
    {"id":"degustation","label":"🍷 Dégustations"},
    {"id":"cours_cocktails","label":"🍹 Cours de cocktails"},
    {"id":"dancefloor","label":"💃 Dancefloor"}
  ],
  "service": [
    {"id":"chic","label":"✨ Chic"},
    {"id":"familial","label":"👨‍👩‍👧‍👦 Familial"},
    {"id":"decontracte_service","label":"😎 Décontracté"},
    {"id":"amical","label":"🤝 Amical"},
    {"id":"rapide","label":"⚡ Rapide"},
    {"id":"attentionne","label":"🤗 Attentionné"}
  ],
  "propositions": [
    {"id":"babyfoot","label":"⚽ Babyfoot"},
    {"id":"flechettes","label":"🎯 Fléchettes"},
    {"id":"billard","label":"🎱 Billard"},
    {"id":"jeux_societe","label":"🎲 Jeux de société"},
    {"id":"jeux_video","label":"🎮 Jeux vidéo"},
    {"id":"jeux","label":"🎮 Jeux"},
    {"id":"galerie_art","label":"🎨 Galerie d'art"},
    {"id":"jeux_enfants","label":"🧸 Jeux pour enfants"},
    {"id":"espace_jeux_exterieur","label":"🛝 Près d'un espace jeux enfants extérieurs"},
    {"id":"petanque","label":"🎯 Pétanque"}
  ],
  "assise": [
    {"id":"canapes","label":"🛋️ Canapés"},
    {"id":"bancs","label":"🪑 Bancs"},
    {"id":"mange_debout","label":"🧍 Mange-debout"},
    {"id":"tables","label":"🍽️ Tables"},
    {"id":"comptoir","label":"🧇 Comptoir"},
    {"id":"poufs","label":"💺 Poufs"},
    {"id":"fauteuils","label":"🪑 Fauteuils"}
  ],
  "acces_pmr": [
    {"id":"plain_pied","label":"🚪 Accès de plain-pied"},
    {"id":"rampe","label":"♿ Rampe d'accès"},
    {"id":"ascenseur","label":"🔼 Ascenseur"},
    {"id":"toilettes_pmr","label":"🚻 Toilettes adaptées"},
    {"id":"personnel_forme","label":"👥 Personnel formé"},
    {"id":"places_reservees","label":"🪑 Places réservées"}
  ],
  "autres": [
    {"id":"decoration_vintage","label":"🕰️ Décoration vintage"}
  ]
}
,
            bars: [
  {"id":1,"name":"Les 3 Singes","type":"Bar concert","address":"Rue des Ã‰tuves, 34000 Montpellier","distance":0.4,"features":["concerts","rock","ecusson","alternatif","festif"]},
  {"id":2,"name":"Le Alhambra Taberna","type":"Bar latino","address":"Rue Alexandre Cabanel, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","festif","ecusson","latino","dancefloor"]},
  {"id":3,"name":"L'Antirouille","type":"Bar concert / Club","address":"12 Rue Anatole-France, 34000 Montpellier","distance":0.8,"features":["indie","concerts","alternatif","ecusson","festif","rock"]},
  {"id":4,"name":"L'Arbre Blanc","type":"Bar rooftop","address":"Avenue Raymond Dugrand, 34000 Montpellier","distance":1.2,"features":["rooftop","vue_ville","chic","bar_cocktails","port_marianne"]},
  {"id":5,"name":"L'Australian Café","type":"Pub australien","address":"108 Rue de Rhodes, 34000 Montpellier","distance":1.3,"features":["pub","bar_bieres","ecusson","sport_tv"]},
  {"id":6,"name":"Un Bar et Jivay","type":"Bar Ã  biÃ¨re","address":"Square de la Babote, 34000 Montpellier","distance":0.6,"features":["bar_bieres","convivial","ecusson","decontracte","festif"]},
  {"id":7,"name":"Barberousse","type":"Pub pirate","address":"6 Rue Boussairolles, 34000 Montpellier","distance":0.4,"features":["rhum","festif","ecusson","pub","decoration_vintage","shots"]},
  {"id":8,"name":"La Barbote","type":"Bar microbrasserie","address":"1 Rue des Deux Ponts, 34000 Montpellier","distance":2.5,"features":["bar_bieres","terrasse_ensoleillee","jardin","calme","vue_ville"]},
  {"id":9,"name":"Le Barri","type":"Bar","address":"4 Boulevard Louis Blanc, 34000 Montpellier","distance":0.5,"features":["ecusson","convivial","bar_cocktails","terrasse"]},
  {"id":10,"name":"The Beehive","type":"Pub","address":"15 Rue du Plan d'Agde, 34000 Montpellier","distance":0.4,"features":["pub","bar_bieres","ecusson","convivial","terrasse"]},
  {"id":11,"name":"Le BelAmour","type":"Bar restaurant","address":"1 Rue Louis LumiÃ¨re, 34970 Lattes","distance":3.5,"features":["lattes","terrasse","bar_vins","tapas","romantique"]},
  {"id":12,"name":"Le Berthom","type":"Bar Ã  biÃ¨res","address":"5 Rue Boussairolles, 34000 Montpellier","distance":0.1,"features":["bar_bieres","bieres_artisanales","ecusson","convivial","planches"]},
  {"id":13,"name":"Le Black Out","type":"Bar rock","address":"6 Rue de la Vieille Intendance, 34000 Montpellier","distance":0.6,"features":["rock","concerts","underground","ecusson","festif"]},
  {"id":14,"name":"The Black Sheep","type":"Pub alternatif","address":"21 Boulevard Louis Blanc, 34000 Montpellier","distance":1,"features":["concerts","bar_bieres","alternatif","beaux_arts","pub"]},
  {"id":15,"name":"Le Bockale","type":"Bar Ã  bières","address":"2 Rue de la République, 34000 Montpellier","distance":0.8,"features":["bar_bieres","bieres_artisanales","convivial","terrasse"]},
  {"id":16,"name":"Le Bonsoir","type":"Bar lounge","address":"6 Rue de la Croix d'Or, 34000 Montpellier","distance":0.4,"features":["lounge","bar_cocktails","ecusson","cosy","romantique"]},
  {"id":17,"name":"Le Boum Boum","type":"Bar dansant","address":"Lattes, 34970","distance":3.5,"features":["boite_club","dancefloor","festif","lattes","bar_cocktails"]},
  {"id":18,"name":"Le Broc Café","type":"Café bar","address":"Rue du Faubourg de NÃ®mes, 34000 Montpellier","distance":1.3,"features":["terrasse","happy_hour","ecusson","brasserie","cafe","convivial","calme"]},
  {"id":19,"name":"Le Burnoutbar","type":"Bar e-sport","address":"60 Bis Avenue du Pont Juvénal, 34000 Montpellier","distance":1.8,"features":["jeux","bar_cocktails","antigone","convivial","jeux_societe"]},
  {"id":20,"name":"Caffè¨ Panis","type":"Café brasserie","address":"3 Pl. du marché aux fleurs, 34000 Montpellier","distance":0.4,"features":["terrasse","ecusson","brasserie","cafe","decontracte","calme"]},
  {"id":21,"name":"Café de la panacée","type":"Café restaurant","address":"14 rue de l'école de Pharmacie, 34000 Montpellier","distance":0.3,"features":["terrasse","happy_hour","ecusson","brasserie","decontracte","convivial","dj_set","cosy","calme"]},
  {"id":22,"name":"Le Café Joseph","type":"Brasserie","address":"Place Jean JaurÃ¨s, 34000 Montpellier","distance":0.3,"features":["terrasse","bar_cocktails","ecusson","brasserie"]},
  {"id":23,"name":"Le Café Joyeux","type":"Café solidaire","address":"Place Alexandre Laissac, 34000 Montpellier","distance":0.1,"features":["cafe","terrasse","convivial"]},
  {"id":24,"name":"Le Café Jules","type":"Brasserie","address":"2 Place de la Comédie, 34000 Montpellier","distance":0.1,"features":["terrasse","comedie","cafe","brasserie"]},
  {"id":25,"name":"Le Café Latitude","type":"Café culturel","address":"Rue de la Méditerranée, 34000 Montpellier","distance":1.5,"features":["cafe","concerts","terrasse","convivial","alternatif"]},
  {"id":26,"name":"Le Café Paume","type":"Café bar","address":"Boulevard du Jeu de Paume, 34000 Montpellier","distance":0.3,"features":["cafe","terrasse","ecusson","calme","wifi"]},
  {"id":27,"name":"Café Pitot","type":"Café bar","address":"2 Place d'Aviler, 34000 Montpellier","distance":1.2,"features":["cafe","terrasse","calme","cosy","wifi"]},
  {"id":28,"name":"Le Café Riche","type":"Brasserie historique","address":"8 Place de la Comédie, 34000 Montpellier","distance":0.1,"features":["terrasse","comedie","cafe","brasserie"]},
  {"id":29,"name":"Chez Canaille","type":"Bar restaurant","address":"5 Place du Petit Scel, 34000 Montpellier","distance":0.3,"features":["bar_vins","tapas","terrasse","convivial","cosy"]},
  {"id":30,"name":"Le Carolan's","type":"Pub irlandais","address":"Place Saint-CÃ´me, 34000 Montpellier","distance":0.2,"features":["pub","bar_bieres","comedie","sport_tv","convivial"]},
  {"id":31,"name":"La Casa Cubana","type":"Bar latino","address":"2 Place de la Chapelle, 34000 Montpellier","distance":0.6,"features":["bar_cocktails","latino","dancefloor","ecusson","festif"]},
  {"id":32,"name":"La Chistera","type":"Pub","address":"2 Bis Rue d'Obilion, 34000 Montpellier","distance":0.1,"features":["bar_bieres","bieres_artisanales","pub","comedie","convivial","karaoke"]},
  {"id":33,"name":"La Cigale","type":"Bar brasserie","address":"7 Boulevard des Arceaux, 34000 Montpellier","distance":0.6,"features":["brasserie","terrasse","comedie","cafe","vue_ville"]},
  {"id":34,"name":"Le Clandestin","type":"Bar speakeasy","address":"18 Rue de la ValfrÃ¨re, 34000 Montpellier","distance":0.3,"features":["speakeasy","bar_cocktails","ecusson","chic","cosy"]},
  {"id":35,"name":"Le Comptoir de l'Arc","type":"Café bar","address":"1 Place Lacanourgue, 34000 Montpellier","distance":0.9,"features":["terrasse","ecusson","cafe","vue_ville","calme"]},
  {"id":36,"name":"The Copperbar","type":"Pub moderne","address":"6 Rue de l'Université, 34000 Montpellier","distance":0.6,"features":["spiritueux","cosy","ecusson","pub","chic"]},
  {"id":37,"name":"Les Coulisses","type":"Bar lounge","address":"3-9 Rue Copé Cambes, 34000 Montpellier","distance":0.3,"features":["lounge","bar_cocktails","ecusson","cosy","chic"]},
  {"id":38,"name":"Le Coyot Bar","type":"Bar américain","address":"1348 Avenue de la Mer Raymond Dugrand, 34000 Montpellier","distance":1.5,"features":["bar_cocktails","terrasse","port_marianne","festif","burgers"]},
  {"id":39,"name":"Le Cubanito","type":"Bar latino","address":"13 Rue de Verdun, 34000 Montpellier","distance":0.8,"features":["latino","bar_cocktails","ecusson","festif","dancefloor"]},
  {"id":40,"name":"Le Discopathe","type":"Bar disco","address":"28 Rue du Faubourg du Courreau, 34000 Montpellier","distance":0.9,"features":["disco","dancefloor","festif","dj_set","figuerolles"]},
  {"id":41,"name":"La Distillerie","type":"Bar Ã  cocktails","address":"67 Rue de l'Aiguillerie, 34000 Montpellier","distance":0.6,"features":["bar_cocktails","cocktails_signature","speakeasy","ecusson","chic"]},
  {"id":42,"name":"Le Drapeau Rouge","type":"Bar alternatif","address":"53 Rue du Faubourg Boutonnet, 34000 Montpellier","distance":1.3,"features":["alternatif","concerts","boutonnet","underground","convivial"]},
  {"id":43,"name":"La Dune","type":"Club","address":"Palavas-les-Flots, 34250","distance":12,"features":["boite_club","plage","terrasse_ensoleillee","vue_mer","festif","cocktails_signature"]},
  {"id":44,"name":"Le DÃ´me","type":"Bar élégant","address":"2 Rue du Grand Saint-Jean, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","ecusson","lounge","chic"]},
  {"id":45,"name":"Les Enfants Rouges","type":"Bar restaurant","address":"3 Plan Duché, 34000 Montpellier","distance":0.5,"features":["ecusson","bar_cocktails","tapas","terrasse","branche"]},
  {"id":46,"name":"Le Fitzpatrick's","type":"Pub irlandais","address":"9 Place Saint-CÃ´me, 34000 Montpellier","distance":0.2,"features":["sport_tv","bar_bieres","convivial","comedie","pub"]},
  {"id":47,"name":"Le Fizz","type":"Club","address":"Rue de Verdun, 34000 Montpellier","distance":0.9,"features":["boite_club","dancefloor","dj_set","electro","festif"]},
  {"id":48,"name":"La Fumerie","type":"Bar lounge","address":"Rue du Petit Saint-Jean, 34000 Montpellier","distance":0.5,"features":["lounge","bar_cocktails","ecusson","cosy","chic"]},
  {"id":49,"name":"Les GarÃ§ons","type":"Bar","address":"15 Rue des SÅ“urs Noires, 34000 Montpellier","distance":0.6,"features":["ecusson","convivial","bar_cocktails","decontracte","festif"]},
  {"id":50,"name":"Le Gazette Café","type":"Café culturel","address":"6 Rue Levat, 34000 Montpellier","distance":1.1,"features":["terrasse","gare","brasserie","cafe","convivial","concerts","cosy"]},
  {"id":51,"name":"Le Harts Bar","type":"Pub","address":"Rue de la Merci, 34000 Montpellier","distance":0.4,"features":["pub","bar_bieres","ecusson","sport_tv","convivial"]},
  {"id":52,"name":"Le Hopulus Brewpub","type":"Brasserie artisanale","address":"8 Rue Collot, 34000 Montpellier","distance":0.1,"features":["brasserie","bieres_artisanales","comedie","planches","snacking"]},
  {"id":53,"name":"Hossegor Bar","type":"Bar","address":"8 Rue de la Petite Loge, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","festif","disco","comedie","decontracte"]},
  {"id":54,"name":"The Invader","type":"Bar geek","address":"5 Rue du Plan d'Agde, 34000 Montpellier","distance":0.5,"features":["jeux","bar_cocktails","ecusson","convivial","alternatif"]},
  {"id":55,"name":"La Jalade","type":"Bar nature","address":"10 Rue de la Jalade, 34000 Montpellier","distance":2,"features":["calme","terrasse_ombragee","jardin","cosy","decontracte"]},
  {"id":56,"name":"Le Jost","type":"Bar lounge","address":"8 Rue du Faubourg de la Saunerie, 34000 Montpellier","distance":0.7,"features":["bar_cocktails","cosy","figuerolles","lounge","tendance"]},
  {"id":57,"name":"Le Kaleido Bar","type":"Bar Ã  cocktails","address":"2 Rue Jules Latreilhe, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","terrasse","comedie","cafe","tapas","dj_set"]},
  {"id":58,"name":"Le Kiosque Verde Paradis","type":"Bar nature","address":"Quartier Beaux-Arts, 34000 Montpellier","distance":1,"features":["jardin","terrasse_ensoleillee","calme","bar_vins","beaux_arts"]},
  {"id":59,"name":"Madrediosa","type":"Bar lgbtqia+","address":"5 rue Belmont, 34000 Montpellier","distance":0.3,"features":["terrasse","happy_hour","beaux_arts","bar_bieres","bar_cocktails","decontracte","convivial","karaoke","dj_set","festif","cosy"]},
  {"id":60,"name":"La Maison Fleurie","type":"Bar Ã  cocktails","address":"Rue du Faubourg Figuerolles, 34000 Montpellier","distance":1.4,"features":["bar_cocktails","jardin","terrasse_ombragee","calme","cosy"]},
  {"id":61,"name":"Les Marchands","type":"Bar Ã  vin","address":"8 Place Alexandre Laissac, 34000 Montpellier","distance":0.5,"features":["bar_vins","ecusson","cosy","planches","vins_naturels"]},
  {"id":62,"name":"Le Mas de Couran","type":"Restaurant","address":"Chemin de Soriech, 34970 Lattes","distance":4.0,"features":["boite_club","dancefloor","festif","dj_set","lattes","plage","terrasse_ensoleillee","brasserie","bar_cocktails"]},
  {"id":63,"name":"Mas du Cheval","type":"Bar","address":"Avenue de l'Agau, 34970 Lattes","distance":3.5,"features":["boite_club","dancefloor","tapas","festif","dj_set","lattes","bar_cocktails"]},
  {"id":64,"name":"Le Mas du Roux","type":"Bar","address":"Lattes, 34970","distance":3.5,"features":["boite_club","dancefloor","festif","lattes","bar_cocktails"]},
  {"id":65,"name":"Mi Barrio","type":"Bar latino","address":"Rue du Plan d'Agde, 34000 Montpellier","distance":0.4,"features":["latino","bar_cocktails","ecusson","festif","tapas"]},
  {"id":66,"name":"Le Milk Club","type":"Club","address":"Rue Ferdinand Fabre, 34000 Montpellier","distance":1,"features":["boite_club","dancefloor","dj_set","festif","electro"]},
  {"id":67,"name":"Le Mio Bar","type":"Bar Ã  cocktails","address":"11 Rue des Balances, 34000 Montpellier","distance":0.4,"features":["bar_cocktails","gin","cocktails_signature","lounge","terrasse"]},
  {"id":68,"name":"Le Miranov","type":"Rooftop","address":"455 Avenue du Professeur Antonin BalmÃ¨s, 34000 Montpellier","distance":2.5,"features":["rooftop","calme","cosy","snacking","convivial"]},
  {"id":69,"name":"Le Moom","type":"Bar dansant","address":"Lattes, 34970","distance":3.5,"features":["boite_club","dancefloor","festif","lattes","bar_cocktails"]},
  {"id":70,"name":"Le Mosquito","type":"Bar latino","address":"1 Rue du Plan d'Agde, 34000 Montpellier","distance":0.4,"features":["bar_cocktails","latino","dancefloor","ecusson","festif","dj_set"]},
  {"id":71,"name":"La Muchacha","type":"Bar latino","address":"Rue de la Loge, 34000 Montpellier","distance":0.3,"features":["latino","bar_cocktails","ecusson","festif","convivial"]},
  {"id":72,"name":"Le Mustang","type":"Bar américain","address":"Rue du Grand Saint-Jean, 34000 Montpellier","distance":0.4,"features":["ecusson","bar_cocktails","festif","rock","convivial"]},
  {"id":73,"name":"La Notte","type":"Bar Ã  vin","address":"Rue de l'Aiguillerie, 34000 Montpellier","distance":0.5,"features":["bar_vins","vins_naturels","ecusson","cosy","planches"]},
  {"id":74,"name":"Le Novelty","type":"Bar","address":"Rue de Verdun, 34000 Montpellier","distance":0.8,"features":["bar_cocktails","festif","convivial","ecusson"]},
  {"id":75,"name":"Le O'Sullivan","type":"Pub irlandais","address":"Boulevard du Jeu de Paume, 34000 Montpellier","distance":0.3,"features":["pub","bar_bieres","sport_tv","comedie","festif"]},
  {"id":76,"name":"Le Panama","type":"Night Club","address":"Rue de la République, 34000 Montpellier","distance":0.5,"features":["boite_club","dancefloor","dj_set","chic","festif"]},
  {"id":77,"name":"Le Palace","type":"Bar Ã  pastis","address":"Montpellier, 34000","distance":0.5,"features":["bar_cocktails","terrasse","pizzas","sport_tv","babyfoot","flechettes"]},
  {"id":78,"name":"La Pampa Sauvage","type":"Bar","address":"2400 Route de Pérols, 34970 Lattes","distance":5,"features":["bar_cocktails","snacking","disco","terrasse_ensoleillee","vue_ville"]},
  {"id":79,"name":"Le Club","type":"Night club","address":" 5 Rue du Grand Saint-Jean, 34000 Montpellier","distance":0.3,"features":["boite_club","cocktails_signature","chic","ecusson","speakeasy","cosy"]},
  {"id":80,"name":"Le Parfum","type":"Bar Ã  cocktails","address":"55 Rue de la Cavalerie, 34000 Montpellier","distance":1,"features":["bar_cocktails","cocktails_signature","cosy","chic","romantique"]},
  {"id":81,"name":"The Peacock","type":"Pub anglais","address":"Rue de la Merci, 34000 Montpellier","distance":0.4,"features":["pub","bar_bieres","ecusson","sport_tv","convivial"]},
  {"id":82,"name":"Plein Sud","type":"Bar restaurant","address":"Port Marianne, 34000 Montpellier","distance":2,"features":["terrasse_ensoleillee","bar_cocktails","port_marianne","vue_ville","brunch"]},
  {"id":83,"name":"Popular Brewing","type":"Brewpub","address":"14 rue Pila Saint Gely, 34000 Montpellier","distance":0.2,"features":["terrasse","jeux","ecusson","bar_bieres","rock","indie","convivial","cosy","decontracte"]},
  {"id":84,"name":"Pousse Pas Mémée Dans La Vigne","type":"Bar Ã  vin","address":"Rue de l'Aiguillerie, 34000 Montpellier","distance":0.5,"features":["bar_vins","ecusson","convivial"]},
  {"id":85,"name":"Le Rebuffy","type":"Bar chill","address":"3 Rue Rebuffy, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","terrasse","ecusson","calme","cosy","decontracte"]},
  {"id":86,"name":"Le Redline","type":"Bar comédie club","address":"5 rue des Teissiers, 34000 Montpellier","distance":0.8,"features":["rock","concerts","underground","festif","metal"]},
  {"id":87,"name":"Le Rhum Runner","type":"Bar Ã  rhum","address":"Rue des Trésoriers de France, 34000 Montpellier","distance":0.4,"features":["rhum","bar_cocktails","ecusson","festif","tropical"]},
  {"id":88,"name":"Le Rockstore","type":"Bar Rock / Concert","address":"20 Rue de Verdun, 34000 Montpellier","distance":0.8,"features":["concerts","rock","underground","ecusson","festif","metal"]},
  {"id":89,"name":"Le Réservoir","type":"Bar Ã  biÃ¨res","address":"55 Rue de Montels Saint-Pierre, 34070 Montpellier","distance":2,"features":["bar_bieres","quiz","karaoke"]},
  {"id":90,"name":"Le Saint Roch","type":"Bar","address":"Quartier Saint-Roch, 34000 Montpellier","distance":0.6,"features":["convivial","bar_bieres","terrasse","decontracte"]},
  {"id":91,"name":"Le Secco","type":"Bar Ã  vin","address":"Rue de l'Aiguillerie, 34000 Montpellier","distance":0.5,"features":["bar_vins","vins_naturels","ecusson","cosy","planches","brunch","festif"]},
  {"id":92,"name":"The Shakespeare","type":"Pub anglais","address":"Rue de la Merci, 34000 Montpellier","distance":0.4,"features":["bieres_artisanales","pub","ecusson","terrasse","wifi","convivial"]},
  {"id":93,"name":"Le Smash Bar","type":"Bar Ã  cocktails","address":"Rue du Petit Saint-Jean, 34000 Montpellier","distance":0.5,"features":["bar_cocktails","cocktails_signature","ecusson","festif","tendance"]},
  {"id":94,"name":"Le St Roch","type":"Bar Ã  tapas","address":"22 Rue du Petit Saint-Jean, 34000 Montpellier","distance":0.4,"features":["bar_vins","tapas","ecusson","convivial","cosy"]},
  {"id":95,"name":"Les Super Vedettes","type":"Bar concert","address":"4 Place des Beaux-Arts, 34000 Montpellier","distance":1,"features":["concerts","indie","alternatif","rock","festif","sport_tv","terrasse_ombragee"]},
  {"id":96,"name":"Le Tarbrew","type":"Bar Ã  biÃ¨res","address":"20 Rue du Docteur Pezat, 34000 Montpellier","distance":1.3,"features":["bar_bieres","bieres_artisanales","bieres_locales","terrasse","figuerolles","convivial","flechettes"]},
  {"id":97,"name":"La Terraza","type":"Bar terrasse","address":"Place de la Comédie, 34000 Montpellier","distance":0.1,"features":["terrasse","comedie","bar_cocktails","vue_ville","festif"]},
  {"id":98,"name":"Le Times","type":"Pub","address":"Rue de la Loge, 34000 Montpellier","distance":0.3,"features":["pub","bar_bieres","ecusson","sport_tv","convivial"]},
  {"id":99,"name":"Le Toit Toit Mon Toit","type":"Rooftop bar","address":"Antigone, 34000 Montpellier","distance":1.5,"features":["rooftop","vue_ville","terrasse_ensoleillee","bar_cocktails","chic"]},
  {"id":100,"name":"Le Trinque Fougasse","type":"Bar Ã  vin","address":"1 Rue de la Galéra, 34000 Montpellier","distance":1.2,"features":["bar_vins","tapas","terrasse_ensoleillee","port_marianne","vins_naturels","planches"]},
  {"id":101,"name":"Le Triskell","type":"Bar breton","address":"Place Candolle, 34000 Montpellier","distance":0.5,"features":["terrasse","ecusson","bar_bieres","cafe","rock","convivial","cosy","calme"]},
  {"id":102,"name":"Le Tub","type":"Bar Ã  cocktails","address":"6 Rue du Petit Scel, 34000 Montpellier","distance":0.3,"features":["bar_cocktails","chic","electro"]},
  {"id":103,"name":"Le V&B","type":"Bar Ã  biÃ¨res","address":"9 Allée du Levant, 34970 Lattes","distance":4,"features":["bar_bieres","bieres_artisanales","planches","convivial"]},
  {"id":104,"name":"Le Verre Ã  Soi","type":"Bar Ã  vin","address":"17 Rue Saint-Guilhem, 34000 Montpellier","distance":0.6,"features":["bar_vins","ecusson","cosy"]},
  {"id":105,"name":"Le VR Ã  Vin","type":"Bar Ã  vin","address":"468 Rue de la Croix Verte, 34090 Montpellier","distance":2.8,"features":["bar_vins","boutonnet","cosy"]},
  {"id":106,"name":"Le Zèbre Bleu","type":"Bar musical","address":"Lieu‑dit La Calade, Route de Palavas, 34970 Lattes","distance":3.5,"features":["boite_club","dancefloor","festif","dj_set","lattes","brasserie","bar_cocktails","concerts"]}
],
            friends: [
                { name: "Marie", location: "Game Taverne", online: true },
                { name: "Jerry", location: "Invader Bar", online: true },
                { name: "Caro", location: "L'Arbre Blanc", online: true },
                { name: "Seb", location: "En route", online: true },
                { name: "Sophie", location: "Le Palace", online: false }
            ],
            events: [
                { id: 1, title: "Soirée Gaming & Cocktails", bar: "Game Taverne", date: "2025-10-05", time: "20:00", description: "Venez découvrir notre nouvelle sélection de jeux avec des cocktails signatures !", maxParticipants: 20, participants: ["Marie", "Jerry", "Seb"], organizer: "Sophie Larmaillard", popular: true },
                { id: 2, title: "Afterwork Networking", bar: "Burger'N'Co", date: "2025-09-30", time: "18:30", description: "Rencontres professionnelles dans une ambiance rock détendue", maxParticipants: 25, participants: ["Caro", "Marie"], organizer: "Jerry Martin", popular: false },
                { id: 3, title: "Tournoi Mario Kart", bar: "Invader Bar", date: "2025-10-01", time: "19:00", description: "Tournoi rétro gaming avec lots à gagner. Inscription gratuite !", maxParticipants: 16, participants: ["Seb", "Sophie"], organizer: "Marie Dubois", popular: false },
                { id: 4, title: "Soirée Rooftop Sunset", bar: "L'Arbre Blanc", date: "2025-10-03", time: "19:00", description: "Admirez le coucher de soleil sur Montpellier avec des cocktails d'exception", maxParticipants: 30, participants: ["Marie", "Jerry", "Caro", "Seb"], organizer: "Seb Rivera", popular: true },
                { id: 5, title: "Soirée Étudiante", bar: "Le Palace", date: "2025-10-06", time: "22:00", description: "La plus grosse soirée étudiante de Montpellier avec DJs live", maxParticipants: 200, participants: ["Sophie", "Jerry"], organizer: "Caro Chen", popular: true }
            ],
            activeFilters: [],
            favorites: [],
            currentTab: 'search',
            activeEventFilter: 'all',
            userJoinedEvents: []
        };

        function showCreateEvent() {
            showNotification('Fonctionnalité de création d\'événement à venir !');
        }

        function joinEvent(eventId) {
            const event = appData.events.find(e => e.id === eventId);
            if (!event) return;
            const isJoined = appData.userJoinedEvents.includes(eventId);
            if (isJoined) {
                appData.userJoinedEvents = appData.userJoinedEvents.filter(id => id !== eventId);
                event.participants = event.participants.filter(p => p !== "Sophie Larmaillard");
                showNotification('Vous avez quitté l\'événement');
            } else {
                if (event.participants.length >= event.maxParticipants) {
                    showNotification('Événement complet !');
                    return;
                }
                appData.userJoinedEvents.push(eventId);
                if (!event.participants.includes("Sophie Larmaillard")) {
                    event.participants.push("Sophie Larmaillard");
                }
                showNotification('Vous participez à l\'événement !');
            }
            renderEvents();
        }

        function shareEvent(eventId) {
            const event = appData.events.find(e => e.id === eventId);
            if (event) showNotification('Événement "' + event.title + '" partagé avec vos amis !');
        }

        function filterEvents(filter) {
            appData.activeEventFilter = filter;
            document.querySelectorAll('.event-filter-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelector('[data-filter="' + filter + '"]').classList.add('active');
            renderEvents();
        }

        function showProfileSection(section) {
            const messages = {
                'personal': 'Informations personnelles - En développement',
                'preferences': 'Préférences configurées avec succès',
                'privacy': 'Paramètres de confidentialité mis à jour',
                'history': 'Historique des 18 derniers bars visités',
                'reviews': 'Vous avez donné 36 avis avec une note moyenne de 4.3/5',
                'friends': 'Vous avez 24 amis connectés sur SOIF',
                'notifications': 'Notifications activées pour les amis à proximité',
                'about': 'SOIF BarFinder v1.0.0 - Créé avec ❤️ à Montpellier',
                'tastes': 'Vos goûts personnalisent vos recommandations de bars !'
            };
            showNotification(messages[section] || 'Section en développement');
        }

        function logout() {
            if (confirm('Êtes-vous sûr de vouloir vous déconnecter ?')) {
                showNotification('À bientôt sur SOIF !');
                setTimeout(() => switchTab('search'), 2000);
            }
        }

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => {
                if (notification.parentNode) notification.parentNode.removeChild(notification);
            }, 3000);
        }

        function openFeedbackForm() {
            const formUrl = 'https://soif-market.vercel.app/';
            window.open(formUrl, '_blank');
            showNotification('Questionnaire ouvert dans un nouvel onglet');
        }

        function init() {
            setupNavigation();
            setupFilters();
            setupSearch();
            setupLocationButton();
            setupEventFilters();
            renderBars(appData.bars);
            renderFriends();
            renderFavorites();
            renderEvents();
        }

        function setupNavigation() {
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchTab(this.dataset.tab);
                });
            });
        }

        function switchTab(tabName) {
            document.querySelectorAll('.nav-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelector('[data-tab="' + tabName + '"]').classList.add('active');
            document.querySelectorAll('.content').forEach(content => content.classList.add('hidden'));
            document.getElementById(tabName + '-content').classList.remove('hidden');
            appData.currentTab = tabName;
            if (tabName === 'social') renderPopularBars();
            else if (tabName === 'favorites') renderFavorites();
            else if (tabName === 'events') renderEvents();
        }

        function setupFilters() {
            const container = document.getElementById('filtersContainer');
            container.innerHTML = '';
            appData.filters.forEach(filter => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.textContent = filter.name;
                btn.dataset.filterId = filter.id;
                btn.addEventListener('click', function() {
                    toggleFilter(filter.id, this);
                });
                container.appendChild(btn);
            });
        }

        function toggleFilter(filterId, btnElement) {
            const index = appData.activeFilters.indexOf(filterId);
            if (index > -1) {
                appData.activeFilters.splice(index, 1);
                btnElement.classList.remove('active');
            } else {
                appData.activeFilters.push(filterId);
                btnElement.classList.add('active');
            }
            filterBars();
        }

        function filterBars() {
            let filteredBars = appData.bars;
            if (appData.activeFilters.length > 0) {
                filteredBars = appData.bars.filter(bar => {
                    return appData.activeFilters.some(filter => bar.features.includes(filter));
                });
            }
            renderBars(filteredBars);
        }

        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            searchInput.addEventListener('input', function() {
                const query = this.value.toLowerCase();
                const filteredBars = appData.bars.filter(bar => {
                    return bar.name.toLowerCase().includes(query) || bar.type.toLowerCase().includes(query);
                });
                renderBars(filteredBars);
            });
        }

        function renderBars(bars) {
            const container = document.getElementById('barsContainer');
            container.innerHTML = '';
            if (bars.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">🔍</div><p>Aucun bar trouvé</p><p style="font-size: 14px; margin-top: 10px; color: rgba(255, 255, 255, 0.3);">Essayez de modifier vos filtres</p></div>';
                return;
            }
            bars.forEach(bar => {
                const barCard = createBarCard(bar);
                container.appendChild(barCard);
            });
        }

        function createBarCard(bar) {
            const card = document.createElement('div');
            card.className = 'bar-card';
            const features = bar.features.map(featureId => {
                const filter = appData.filters.find(f => f.id === featureId);
                return filter ? '<span class="feature-tag">' + filter.name + '</span>' : '';
            }).join('');
            const isFavorite = appData.favorites.includes(bar.id);
            card.innerHTML = '<div class="bar-header"><div><div class="bar-name">' + bar.name + '</div><div class="bar-type">' + bar.type + '</div></div><button class="heart-btn ' + (isFavorite ? 'liked' : '') + '" data-bar-id="' + bar.id + '">❤️</button></div><div class="bar-features">' + features + '</div><div class="bar-info"><div class="rating">⭐ ' + bar.rating + '</div><div class="distance">📍 ' + bar.distance + '</div><div class="visitors">👥 ' + bar.visitors + '</div></div>';
            const heartBtn = card.querySelector('.heart-btn');
            heartBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                toggleFavorite(bar.id);
            });
            return card;
        }

        function toggleFavorite(barId) {
            const index = appData.favorites.indexOf(barId);
            if (index > -1) {
                appData.favorites.splice(index, 1);
                showNotification('Retiré des favoris !');
            } else {
                appData.favorites.push(barId);
                showNotification('Ajouté aux favoris !');
            }
            if (appData.currentTab === 'search') filterBars();
            else if (appData.currentTab === 'favorites') renderFavorites();
        }

        function renderFriends() {
            const container = document.getElementById('friendsList');
            container.innerHTML = '';
            appData.friends.forEach(friend => {
                const friendElement = document.createElement('div');
                friendElement.className = 'friend-item';
                friendElement.innerHTML = '<div class="friend-avatar">👤' + (friend.online ? '<div class="online-dot"></div>' : '') + '</div><div class="friend-name">' + friend.name + '</div><div class="friend-location">' + friend.location + '</div>';
                container.appendChild(friendElement);
            });
        }

        function renderPopularBars() {
            const container = document.getElementById('popularBars');
            const popularBars = [...appData.bars].sort((a, b) => b.visitors - a.visitors).slice(0, 3);
            container.innerHTML = '';
            popularBars.forEach(bar => {
                const barCard = createBarCard(bar);
                container.appendChild(barCard);
            });
        }

        function renderFavorites() {
            const container = document.getElementById('favoriteBars');
            const favoriteBars = appData.bars.filter(bar => appData.favorites.includes(bar.id));
            container.innerHTML = '';
            if (favoriteBars.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">❤️</div><p>Aucun bar favori</p><p style="font-size: 14px; margin-top: 10px; color: rgba(255, 255, 255, 0.3);">Ajoutez des bars à vos favoris en appuyant sur ❤️</p></div>';
                return;
            }
            favoriteBars.forEach(bar => {
                const barCard = createBarCard(bar);
                container.appendChild(barCard);
            });
        }

        function setupLocationButton() {
            const btn = document.getElementById('locationBtn');
            btn.addEventListener('click', function() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        function(position) {
                            showNotification('Position mise à jour !');
                            const nearbyBars = appData.bars.slice(0, 4);
                            renderBars(nearbyBars);
                        },
                        function(error) {
                            showNotification('Géolocalisation non disponible');
                        }
                    );
                } else {
                    showNotification('Géolocalisation non supportée');
                }
            });
        }

        function setupEventFilters() {
            const filterBtns = document.querySelectorAll('.event-filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const filter = this.dataset.filter;
                    filterEvents(filter);
                });
            });
        }

        function renderEvents() {
            const container = document.getElementById('eventsList');
            let eventsToShow = [...appData.events];
            const today = new Date().toISOString().split('T')[0];
            const thisWeekStart = new Date();
            const thisWeekEnd = new Date();
            thisWeekEnd.setDate(thisWeekEnd.getDate() + 7);
            switch(appData.activeEventFilter) {
                case 'today':
                    eventsToShow = eventsToShow.filter(event => event.date === today);
                    break;
                case 'week':
                    eventsToShow = eventsToShow.filter(event => {
                        const eventDate = new Date(event.date);
                        return eventDate >= thisWeekStart && eventDate <= thisWeekEnd;
                    });
                    break;
                case 'friends':
                    eventsToShow = eventsToShow.filter(event => 
                        event.participants.some(p => appData.friends.some(f => f.name === p))
                    );
                    break;
            }
            container.innerHTML = '';
            if (eventsToShow.length === 0) {
                container.innerHTML = '<div class="empty-state"><div class="empty-state-icon">🎉</div><p>Aucun événement trouvé</p><p style="font-size: 14px; margin-top: 10px; color: rgba(255, 255, 255, 0.3);">Créez le premier événement !</p></div>';
                return;
            }
            eventsToShow.forEach(event => {
                const eventCard = createEventCard(event);
                container.appendChild(eventCard);
            });
        }

        function createEventCard(event) {
            const card = document.createElement('div');
            card.className = 'event-card' + (event.popular ? ' popular' : '');
            const eventDate = new Date(event.date);
            const formattedDate = eventDate.toLocaleDateString('fr-FR', { weekday: 'long', day: 'numeric', month: 'long' });
            const isJoined = appData.userJoinedEvents.includes(event.id);
            card.innerHTML = (event.popular ? '<div class="event-badge">Populaire</div>' : '') + '<div class="event-title">' + event.title + '</div><div class="event-bar">📍 ' + event.bar + '</div><div class="event-datetime"><span>📅 ' + formattedDate + '</span><span>⏰ ' + event.time + '</span></div><div class="event-description">' + event.description + '</div><div class="event-actions"><button class="join-btn ' + (isJoined ? 'joined' : '') + '" onclick="joinEvent(' + event.id + ')">' + (isJoined ? '✓ Inscrit' : 'Participer') + '</button><button class="share-btn" onclick="shareEvent(' + event.id + ')">📤</button></div>';
            return card;
        }

        document.addEventListener('DOMContentLoaded', function() {
            const splashScreen = document.getElementById('splashScreen');
            const appContainer = document.getElementById('appContainer');
            setTimeout(function() {
                splashScreen.classList.add('hidden');
                appContainer.classList.add('visible');
            }, 3000);
            init();
        });
    </script>
</body>
</html>
